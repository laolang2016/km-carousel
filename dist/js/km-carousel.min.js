"use strict";!function(o){var n={left:0,right:1};function c(t){!function(t){var e=a(t);t.css({width:e.width+"px",height:e.height+"px"});var n=t.children(".km-carousel-content").eq(0),i=n.children(".km-carousel-item").length;if(n.css({width:e.width*(i+2)+"px",height:e.height+"px"}),n.children(".km-carousel-item").each(function(){o(this).css({width:e.width+"px",height:e.height+"px"})}),2<=i){var c=n.children(".km-carousel-item").first().clone(),r=n.children(".km-carousel-item").last().clone();n.append(c.get(0)),n.prepend(r.get(0))}n.css({left:-1*e.width+"px"}),function(t,e,n){var i=o("<div>").attr("class","km-carousel-change-box");i.css({width:n+"px"});for(var c=o("<ul>").attr("class","km-carousel-change"),r=0;r<e;r++){var a=o("<li>");a.append(o("<a>").attr("href","javascript:void(0);").get(0)),0===r&&a.attr("class","active"),c.append(a.get(0))}i.append(c.get(0)),t.append(i.get(0))}(t,i,e.width),t.config.showBtn&&function(t,e){var n=o("<div>").attr("class","km-carousel-btn-box").css({width:e+"px"});n.append(o("<button>").attr("class","km-carousel-btn left").html("&lt;").get(0)),n.append(o("<button>").attr("class","km-carousel-btn right").html("&gt;").get(0)),t.append(n.get(0))}(t,e.width);t.config.currIndex=0}(t),function(e){e.children(".km-carousel-change-box").children(".km-carousel-change").children("li").each(function(t){o(this).on("click",function(){t!==e.config.currIndex&&i(e,t)})}),e.children(".km-carousel-btn-box").children(".km-carousel-btn").each(function(t){o(this).on("click",function(){r(e,0===t?n.left:n.right)})})}(t),function(t){t.mouseenter(function(){t.config.startPlay=!1}).mouseleave(function(){t.config.startPlay=!0}),t.config.autoPlay&&setInterval(function(){t.config.startPlay&&i(t,t.config.currIndex+1)},2e3)}(t)}function i(t,e){var n=a(t),i=t.children(".km-carousel-content").eq(0),c=i.children(".km-carousel-item").length-2;if(e<0)return i.animate({left:"0px"},300),t.config.currIndex=c-1,l(t,t.config.currIndex),void i.animate({left:n.width*c*-1+"px"},0);if(c<=e)return i.animate({left:n.width*(1+c)*-1+"px"},300),t.config.currIndex=0,l(t,t.config.currIndex),void i.animate({left:-1*n.width+"px"},0);var r=function(t,e){for(var n=[],i=0;i<t;i++)n[i]=(i+1)*e*-1;return n}(c,n.width);l(t,e),i.animate({left:r[e]+"px"},300),t.config.currIndex=e}function r(t,e){(1<arguments.length&&void 0!==e?e:n.left)===n.left?i(t,t.config.currIndex-1):i(t,t.config.currIndex+1)}function a(t){var e=t.parent();return{width:e.width(),height:e.height()}}function l(t,e){t.children(".km-carousel-change-box").children(".km-carousel-change").children("li").eq(e).addClass("active").siblings().removeClass("active")}o.fn.kmCarousel=function(t,e){if("string"==typeof t)return o.fn.kmCarousel.methods[t](this,e);var n=o.extend({},o.fn.kmCarousel.defaults,t),i=this;return i.config=n,this.each(function(){c(i)})},o.fn.kmCarousel.methods={options:function(t){return t.config}},o.fn.kmCarousel.defaults={autoPlay:!0,startPlay:!0,showBtn:!0}}(jQuery,window,document);